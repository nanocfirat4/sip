!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports["react-imageslides"]=e(require("react"),require("react-dom")):t["react-imageslides"]=e(t.react,t["react-dom"])}(window,(function(t,e){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(e,n){e.exports=t},function(t,e,n){!function(){var e=.017453292519943295,n=function(t,e,n,i,s,r,o,a,l,h,c,u,p,d,g,f){this.elements=window.Float32Array?new Float32Array(16):[];var m=this.elements;m[0]=void 0!==t?t:1,m[4]=e||0,m[8]=n||0,m[12]=i||0,m[1]=s||0,m[5]=void 0!==r?r:1,m[9]=o||0,m[13]=a||0,m[2]=l||0,m[6]=h||0,m[10]=void 0!==c?c:1,m[14]=u||0,m[3]=p||0,m[7]=d||0,m[11]=g||0,m[15]=void 0!==f?f:1};n.prototype={set:function(t,e,n,i,s,r,o,a,l,h,c,u,p,d,g,f){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=s,m[5]=r,m[9]=o,m[13]=a,m[2]=l,m[6]=h,m[10]=c,m[14]=u,m[3]=p,m[7]=d,m[11]=g,m[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},multiplyMatrices:function(t,e){var n=t.elements,i=this.elements,s=n[0],r=n[4],o=n[8],a=n[12],l=n[1],h=n[5],c=n[9],u=n[13],p=n[2],d=n[6],g=n[10],f=n[14],m=n[3],v=n[7],y=n[11],x=n[15],w=e[0],b=e[1],T=e[2],M=e[3],E=e[4],X=e[5],S=e[6],Y=e[7],L=e[8],O=e[9],k=e[10],_=e[11],C=e[12],P=e[13],j=e[14],D=e[15];return i[0]=s*w+r*E+o*L+a*C,i[4]=s*b+r*X+o*O+a*P,i[8]=s*T+r*S+o*k+a*j,i[12]=s*M+r*Y+o*_+a*D,i[1]=l*w+h*E+c*L+u*C,i[5]=l*b+h*X+c*O+u*P,i[9]=l*T+h*S+c*k+u*j,i[13]=l*M+h*Y+c*_+u*D,i[2]=p*w+d*E+g*L+f*C,i[6]=p*b+d*X+g*O+f*P,i[10]=p*T+d*S+g*k+f*j,i[14]=p*M+d*Y+g*_+f*D,i[3]=m*w+v*E+y*L+x*C,i[7]=m*b+v*X+y*O+x*P,i[11]=m*T+v*S+y*k+x*j,i[15]=m*M+v*Y+y*_+x*D,this},epsilon:function(t){return Math.abs(t)<1e-10?0:t},_arrayWrap:function(t){return window.Float32Array?new Float32Array(t):t},appendTransform:function(t,n,i,s,r,o,a,l,h,c,u,p,d,g){var f=a*e,m=this.epsilon(Math.cos(f)),v=this.epsilon(Math.sin(f)),y=l*e,x=this.epsilon(Math.cos(y)),w=this.epsilon(Math.sin(y)),b=h*e,T=this.epsilon(Math.cos(-1*b)),M=this.epsilon(Math.sin(-1*b));return this.multiplyMatrices(this,this._arrayWrap([1,0,0,t,0,m,v,n,0,-v,m,i,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([x,0,w,0,0,1,0,0,-w,0,x,0,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([T*s,M*r,0,0,-M*s,T*r,0,0,0,0,1*o,0,0,0,0,1])),(c||u)&&this.multiplyMatrices(this,this._arrayWrap([this.epsilon(Math.cos(c*e)),this.epsilon(Math.sin(c*e)),0,0,-1*this.epsilon(Math.sin(u*e)),this.epsilon(Math.cos(u*e)),0,0,0,0,1,0,0,0,0,1])),(p||d||g)&&(this.elements[12]-=p*this.elements[0]+d*this.elements[4]+g*this.elements[8],this.elements[13]-=p*this.elements[1]+d*this.elements[5]+g*this.elements[9],this.elements[14]-=p*this.elements[2]+d*this.elements[6]+g*this.elements[10]),this}};var i=function(t,e,n,i,s,r){return this.a=null==t?1:t,this.b=e||0,this.c=n||0,this.d=null==i?1:i,this.tx=s||0,this.ty=r||0,this};function s(t,e,n){Object.defineProperty(t,e,{get:function(){return this["_"+e]},set:function(t){this["_"+e]=t,n()}})}function r(t,e){if(!t.___mixCSS3Transform){var i,r=["translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ"],o=(i=t,"object"==typeof HTMLElement?i instanceof HTMLElement:i&&"object"==typeof i&&null!==i&&1===i.nodeType&&"string"==typeof i.nodeName);e||r.push("perspective"),t.___mixCSS3Transform=!0,function(t,e,n){for(var i=0,r=e.length;i<r;i++){s(t,e[i],n)}}(t,r,(function(){var n=t.matrix3d.identity().appendTransform(t.translateX,t.translateY,t.translateZ,t.scaleX,t.scaleY,t.scaleZ,t.rotateX,t.rotateY,t.rotateZ,t.skewX,t.skewY,t.originX,t.originY,t.originZ),i=(e?"":"perspective("+t.perspective+"px) ")+"matrix3d("+Array.prototype.slice.call(n.elements).join(",")+")";o?t.style.transform=t.style.msTransform=t.style.OTransform=t.style.MozTransform=t.style.webkitTransform=i:t.transform=i})),t.matrix3d=new n,e||(t.perspective=500),t.scaleX=t.scaleY=t.scaleZ=1,t.translateX=t.translateY=t.translateZ=t.rotateX=t.rotateY=t.rotateZ=t.skewX=t.skewY=t.originX=t.originY=t.originZ=0}}i.prototype={identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},appendTransform:function(t,n,i,s,r,o,a,l,h){if(r%360)var c=r*e,u=Math.cos(c),p=Math.sin(c);else u=1,p=0;return o||a?(o*=e,a*=e,this.append(Math.cos(a),Math.sin(a),-Math.sin(o),Math.cos(o),t,n),this.append(u*i,p*i,-p*s,u*s,0,0)):this.append(u*i,p*i,-p*s,u*s,t,n),(l||h)&&(this.tx-=l*this.a+h*this.c,this.ty-=l*this.b+h*this.d),this},append:function(t,e,n,i,s,r){var o=this.a,a=this.b,l=this.c,h=this.d;return this.a=t*o+e*l,this.b=t*a+e*h,this.c=n*o+i*l,this.d=n*a+i*h,this.tx=s*o+r*l+this.tx,this.ty=s*a+r*h+this.ty,this},initialize:function(t,e,n,i,s,r){return this.a=t,this.b=e,this.c=n,this.d=i,this.tx=s,this.ty=r,this},setValues:function(t,e,n,i,s,r){return this.a=null==t?1:t,this.b=e||0,this.c=n||0,this.d=null==i?1:i,this.tx=s||0,this.ty=r||0,this},copy:function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)}},r.getMatrix3D=function(t){var e={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0,originX:0,originY:0,originZ:0,scaleX:1,scaleY:1,scaleZ:1};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return(new n).identity().appendTransform(e.translateX,e.translateY,e.translateZ,e.scaleX,e.scaleY,e.scaleZ,e.rotateX,e.rotateY,e.rotateZ,e.skewX,e.skewY,e.originX,e.originY,e.originZ).elements},r.getMatrix2D=function(t){var e={translateX:0,translateY:0,rotation:0,skewX:0,skewY:0,originX:0,originY:0,scaleX:1,scaleY:1};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return(new i).identity().appendTransform(e.translateX,e.translateY,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.originX,e.originY)},t.exports=r}()},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var s=(o=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),r=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(r).concat([s]).join("\n")}var o,a,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(i)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(s[o]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);i&&s[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},function(t,e,n){var i,s,r={},o=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=i.apply(this,arguments)),s}),a=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=a.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),h=null,c=0,u=[],p=n(8);function d(t,e){for(var n=0;n<t.length;n++){var i=t[n],s=r[i.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](i.parts[o]);for(;o<i.parts.length;o++)s.parts.push(x(i.parts[o],e))}else{var a=[];for(o=0;o<i.parts.length;o++)a.push(x(i.parts[o],e));r[i.id]={id:i.id,refs:1,parts:a}}}}function g(t,e){for(var n=[],i={},s=0;s<t.length;s++){var r=t[s],o=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[o]?i[o].parts.push(a):n.push(i[o]={id:o,parts:[a]})}return n}function f(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=l(t.insertAt.before,n);n.insertBefore(e,s)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return y(e,t.attrs),f(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function x(t,e){var n,i,s,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var o=c++;n=h||(h=v(e)),i=T.bind(null,n,o,!1),s=T.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),f(t,e),e}(e),i=E.bind(null,n,e),s=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),i=M.bind(null,n),s=function(){m(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else s()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=g(t,e);return d(n,e),function(t){for(var i=[],s=0;s<n.length;s++){var o=n[s];(a=r[o.id]).refs--,i.push(a)}t&&d(g(t,e),e);for(s=0;s<i.length;s++){var a;if(0===(a=i[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete r[a.id]}}}};var w,b=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function T(t,e,n,i){var s=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,s);else{var r=document.createTextNode(s),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}function M(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function E(t,e,n){var i=n.css,s=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&s;(e.convertToAbsoluteUrls||r)&&(i=p(i)),s&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var o=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}},function(t,n){t.exports=e},function(t,e,n){var i;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var t=[],e=0;e<arguments.length;e++){var i=arguments[e];if(i){var r=typeof i;if("string"===r||"number"===r)t.push(i);else if(Array.isArray(i)&&i.length){var o=s.apply(null,i);o&&t.push(o)}else if("object"===r)for(var a in i)n.call(i,a)&&i[a]&&t.push(a)}}return t.join(" ")}t.exports?(s.default=s,t.exports=s):void 0===(i=function(){return s}.apply(e,[]))||(t.exports=i)}()},function(t,e,n){var i=n(7);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){(e=n(2)(!1)).push([t.i,".image-slides-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 999;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.9);\n}\n",""]),t.exports=e},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var s,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(s=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},function(t,e,n){var i=n(10);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){(e=n(2)(!1)).push([t.i,"@-webkit-keyframes line-scale-pulse-out {\r\n  0% {\r\n    transform: scaleY(1);\r\n  }\r\n\r\n  50% {\r\n    transform: scaleY(0.4);\r\n  }\r\n\r\n  100% {\r\n    transform: scaleY(1);\r\n  }\r\n}\r\n\r\n@keyframes line-scale-pulse-out {\r\n  0% {\r\n    transform: scaleY(1);\r\n  }\r\n\r\n  50% {\r\n    transform: scaleY(0.4);\r\n  }\r\n\r\n  100% {\r\n    transform: scaleY(1);\r\n  }\r\n}\r\n\r\n.image-slides-loading > div {\r\n  display: inline-block;\r\n  width: 4px;\r\n  height: 35px;\r\n  margin: 2px;\r\n  border-radius: 2px;\r\n  background-color: #fff;\r\n  -webkit-animation: line-scale-pulse-out 0.9s -0.6s infinite cubic-bezier(0.85, 0.25, 0.37, 0.85);\r\n          animation: line-scale-pulse-out 0.9s -0.6s infinite cubic-bezier(0.85, 0.25, 0.37, 0.85);\r\n  -webkit-animation-fill-mode: both;\r\n          animation-fill-mode: both\r\n}\r\n\r\n.image-slides-loading > div:nth-child(2),\r\n  .image-slides-loading > div:nth-child(4) {\r\n    -webkit-animation-delay: -0.4s !important;\r\n            animation-delay: -0.4s !important;\r\n  }\r\n\r\n.image-slides-loading > div:nth-child(1),\r\n  .image-slides-loading > div:nth-child(5) {\r\n    -webkit-animation-delay: -0.2s !important;\r\n            animation-delay: -0.2s !important;\r\n  }\r\n\r\n.image-slides-view-port {\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #000;\r\n  touch-action: none;\r\n}\r\n\r\n.image-slides-container {\r\n  display: inline-block;\r\n  position: relative;\r\n  overflow: visible;\r\n  width: 100%;\r\n  height: 100%;\r\n  white-space: nowrap;\r\n  will-change: transform;\r\n  touch-action: none;\r\n}\r\n\r\n.image-slides-close {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  z-index: 100;\r\n  padding-top: 6px;\r\n  border: 0;\r\n  border-radius: 2px;\r\n  outline: none;\r\n  background-color: rgba(0, 0, 0, 0.15);\r\n  cursor: pointer;\r\n}\r\n\r\n.image-slides-blackboard {\r\n  display: inline-flex;\r\n  position: relative;\r\n  overflow: hidden;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  margin-right: 10px;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n}\r\n\r\n.image-slides-content {\r\n  will-change: transform;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none;\r\n}\r\n\r\n.image-slides-page-button {\r\n  position: absolute;\r\n  top: 50%;\r\n  z-index: 100;\r\n  width: 32px;\r\n  height: 75px;\r\n  border: none;\r\n  border-radius: 2px;\r\n  outline: none;\r\n  background: rgba(100, 100, 100, 0.2);\r\n  transform: translateY(-50%);\r\n  cursor: pointer;\r\n}\r\n\r\n.image-slides-page-button svg {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n\r\n.image-slides-prev {\r\n  left: 0;\r\n}\r\n\r\n.image-slides-next {\r\n  right: 0;\r\n}\r\n",""]),t.exports=e},function(t,e,n){"use strict";n.r(e);var i=n(0),s=n.n(i),r=n(1),o=n.n(r);class a extends i.Component{constructor(t){super(t),this.preV={x:null,y:null},this.pinchStartLen=null,this.scale=1,this.isSingleTap=!1,this.isDoubleTap=!1,this.delta=null,this.last=null,this.now=null,this.end=null,this.multiTouch=!1,this.tapTimeout=null,this.longTapTimeout=null,this.singleTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null},this.afterLongTap=!1,this.afterLongTapTimeout=null}getLen(t){return Math.sqrt(t.x*t.x+t.y*t.y)}dot(t,e){return t.x*e.x+t.y*e.y}getAngle(t,e){var n=this.getLen(t)*this.getLen(e);if(0===n)return 0;var i=this.dot(t,e)/n;return i>1&&(i=1),Math.acos(i)}cross(t,e){return t.x*e.y-e.x*t.y}getRotateAngle(t,e){var n=this.getAngle(t,e);return this.cross(t,e)>0&&(n*=-1),180*n/Math.PI}_resetState(){this.setState({x:null,y:null,swiping:!1,start:0})}_emitEvent(t,...e){this.props[t]&&this.props[t](...e)}_handleTouchStart(t){if(this._emitEvent("onTouchStart",t),t.touches){this.now=Date.now(),this.x1=t.touches[0].pageX,this.y1=t.touches[0].pageY,this.delta=this.now-(this.last||this.now),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var e=this.preV;if(t.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var n={x:t.touches[1].pageX-this.x1,y:t.touches[1].pageY-this.y1};e.x=n.x,e.y=n.y,this.pinchStartLen=this.getLen(e),this._emitEvent("onMultipointStart",t)}else this.isSingleTap=!0;this.longTapTimeout=setTimeout(()=>{this._emitEvent("onLongTap",t),this.afterLongTap=!0,this.afterLongTapTimeout=setTimeout(()=>{this.afterLongTap=!1},1e3)},750)}}_handleTouchMove(t){this._emitEvent("onTouchMove",t);var e=this.preV,n=t.touches.length,i=t.touches[0].pageX,s=t.touches[0].pageY;if(this.isSingleTap=!1,this.isDoubleTap=!1,n>1){var r={x:t.touches[1].pageX-i,y:t.touches[1].pageY-s};null!==e.x&&(this.pinchStartLen>0&&(t.center={x:(t.touches[1].pageX+i)/2,y:(t.touches[1].pageY+s)/2},t.scale=t.zoom=this.getLen(r)/this.pinchStartLen,this._emitEvent("onPinch",t)),t.angle=this.getRotateAngle(r,e),this._emitEvent("onRotate",t)),e.x=r.x,e.y=r.y,this.multiTouch=!0}else null!==this.x2?(t.deltaX=i-this.x2,t.deltaY=s-this.y2):(t.deltaX=0,t.deltaY=0),this._emitEvent("onPressMove",t);this._cancelLongTap(),this.x2=i,this.y2=s,n>1&&t.preventDefault()}_handleTouchCancel(t){this._emitEvent("onTouchCancel",t),clearInterval(this.singleTapTimeout),clearInterval(this.tapTimeout),clearInterval(this.longTapTimeout),clearInterval(this.swipeTimeout)}_handleTouchEnd(t){this._emitEvent("onTouchEnd",t),this.end=Date.now(),this._cancelLongTap(),!0===this.multiTouch&&t.touches.length<2&&this._emitEvent("onMultipointEnd",t),t.origin=[this.x1,this.y1],!1===this.multiTouch&&(this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),t.distance=Math.abs(this.x1-this.x2),this.swipeTimeout=setTimeout(()=>{this._emitEvent("onSwipe",t)},0)):this.afterLongTap?(clearTimeout(this.afterLongTapTimeout),this.afterLongTap=!1):this.tapTimeout=setTimeout(()=>{this._emitEvent("onTap",t),this.isDoubleTap?(this._emitEvent("onDoubleTap",t),clearTimeout(this.singleTapTimeout),this.isDoubleTap=!1):this.isSingleTap&&(this.singleTapTimeout=setTimeout(()=>{this._emitEvent("onSingleTap",t)},250),this.isSingleTap=!1)},0)),this.preV.x=0,this.preV.y=0,this.scale=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null,this.multiTouch=!1}_cancelLongTap(){clearTimeout(this.longTapTimeout)}_cancelSingleTap(){clearTimeout(this.singleTapTimeout)}_swipeDirection(t,e,n,i){return Math.abs(t-e)>80||this.end-this.now<250?Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down":"Nochange"}render(){return s.a.cloneElement(s.a.Children.only(this.props.children),{onTouchStart:this._handleTouchStart.bind(this),onTouchMove:this._handleTouchMove.bind(this),onTouchCancel:this._handleTouchCancel.bind(this),onTouchEnd:this._handleTouchEnd.bind(this)})}}var l=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n};class h extends i.PureComponent{constructor(t){super(t),this.clientX=0,this.clientY=0,this.initScale=1,this.style={},this.unMount=!1,this.target=null,this.getImageEl=t=>{t&&(o()(t),this.target=t)},this.checkPosition=(t,e)=>{if(!this.target)return;const{onExceedLimit:n,containerFocused:i}=this.props,{desktopMode:s}=this.state,{left:r,right:o,top:a,bottom:l}=this.target.getBoundingClientRect(),{translateX:h,translateY:c,originX:u,originY:p,scaleX:d,scaleY:g}=this.target;if(i&&!s)return;const f=(t<=0||r<0)&&(t>=0||o>window.innerWidth)||Math.abs(h+t-u*d)<Math.abs(h-u*d),m=(e<0||a<50)&&(e>0||l>window.innerHeight-50)||Math.abs(c+e-p*g)<Math.abs(c-p*g);f?this.target.translateX+=t:n&&Math.abs(e)<(m?2:20)&&n(),m&&(this.target.translateY+=e)},this.reset=()=>{this.target&&(this.target.translateX=0,this.target.translateY=0,this.target.scaleX=1,this.target.scaleY=1,this.target.originX=0,this.target.originY=0)},this.handleMove=t=>{t.preventDefault(),window.requestAnimationFrame(()=>this.checkPosition(parseInt(t.deltaX,10),parseInt(t.deltaY,10)))},this.handleMultipointStart=t=>{if(!this.target)return;const e=this.target.getBoundingClientRect(),n=(t.touches[0].pageX+t.touches[1].pageX)/2,i=(t.touches[0].pageY+t.touches[1].pageY)/2,s=Math.min(Math.max(n,e.left),e.left+e.width),r=Math.min(Math.max(i,e.top),e.top+e.height),o=s-(e.left+e.width/2),a=r-(e.top+e.height/2),l=this.target.originX,h=this.target.originY;this.target.originX=o/this.target.scaleX,this.target.originY=a/this.target.scaleY,this.target.translateX+=o-l*this.target.scaleX,this.target.translateY+=a-h*this.target.scaleX,this.initScale=this.target.scaleX},this.handleDoubleClick=t=>{const{desktopMode:e}=this.state;this.setState({desktopMode:!e}),t.origin=[t.clientX,t.clientY],this.handleDoubleTap(t)},this.handleDoubleTap=t=>{if(this.target)if(this.target.scaleX>1)this.reset();else{const e=this.target.getBoundingClientRect(),n=e.left+e.width/2,i=e.top+e.height/2,s=Math.min(Math.max(t.origin[0],e.left),e.left+e.width)-n,r=Math.min(Math.max(t.origin[1],e.top),e.top+e.height)-i,o=this.target.originX,a=this.target.originY;this.target.originX=s,this.target.originY=r,this.target.translateX+=s-o*this.target.scaleX,this.target.translateY+=r-a*this.target.scaleX;const l=Math.max(window.innerWidth/e.width*.5,window.innerHeight/e.height*.5,2);this.target.scaleX=l,this.target.scaleY=l}},this.handlePinch=t=>{if(!this.target)return;const e=Math.max(Math.min(4,this.initScale*t.scale),1);this.target.scaleX=e,this.target.scaleY=e},this.handleTouchEnd=t=>{t.preventDefault()},this.handleMultipointEnd=t=>{this.target&&this.target.scaleX<=1&&t.scale<1&&this.reset()},this.handleMouseDown=t=>{this.clientX=t.clientX,this.clientY=t.clientY,t.target.addEventListener("mousemove",this.handleMouseMove),t.target.addEventListener("mouseup",this.handleMouseUp)},this.handleMouseMove=t=>{t.deltaX=t.clientX-this.clientX,t.deltaY=t.clientY-this.clientY,this.clientX=t.clientX,this.clientY=t.clientY,this.handleMove(t)},this.handleMouseUp=t=>{t.target.removeEventListener("mousemove",this.handleMouseMove),t.target.removeEventListener("mouseup",this.handleMouseUp)},this.handleDrag=t=>{t.preventDefault()},this.state={isLoaded:!1,desktopMode:!1}}componentDidMount(){const{url:t}=this.props,e=new Image;t&&new Promise((n,i)=>{e.onload=n,e.onerror=i,e.src=t}).then(()=>{this.unMount||(this.style=function(t,e){const n=window.innerWidth,i=window.innerHeight;return t/e>n/i?{width:n<t?"100%":`${t}px`,height:"auto"}:{width:"auto",height:i<e?"100%":`${e}px`}}(e.naturalWidth,e.naturalHeight),this.setState({isLoaded:!0}))},t=>t)}componentDidUpdate(t){const{presented:e}=this.props;!0===t.presented&&!1===e&&this.reset()}componentWillUnmount(){this.unMount=!0}render(){const{isLoaded:t}=this.state,e=this.props,{url:n,onExceedLimit:i,presented:r,loadingIcon:o,containerFocused:h}=e,c=l(e,["url","onExceedLimit","presented","loadingIcon","containerFocused"]);let u=o;return t?s.a.createElement(a,{onTouchEnd:this.handleTouchEnd,onMultipointStart:this.handleMultipointStart,onMultipointEnd:this.handleMultipointEnd,onPressMove:this.handleMove,onDoubleTap:this.handleDoubleTap,onPinch:this.handlePinch},s.a.createElement("div",{className:"image-slides-blackboard",onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown},s.a.createElement("img",Object.assign({onDragStart:this.handleDrag,className:"image-slides-content",src:n,ref:this.getImageEl,style:this.style},c)))):s.a.createElement(a,{onPressMove:this.handleMove},s.a.createElement("div",{className:"image-slides-blackboard"},s.a.createElement("div",{ref:this.getImageEl},u)))}}h.defaultProps={presented:!1,loadingIcon:s.a.createElement("div",{className:"image-slides-loading"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))};var c=n(4),u=n.n(c),p=n(5),d=n.n(p),g=(n(6),function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n});let f=null;function m(t){t.preventDefault()}class v extends i.PureComponent{constructor(){super(...arguments),this.node=document.createElement("div"),this.layer=null,this.getLayer=t=>{t&&(this.layer=t,t.addEventListener("touchstart",m))}}static preventScrolling(){const{body:t}=document;f=t.style.overflow,t.style.overflow="hidden"}static allowScrolling(){const{body:t}=document;t.style.overflow=f||"",f=null}componentDidMount(){const{parentSelector:t}=this.props;v.preventScrolling(),t().appendChild(this.node)}componentDidUpdate(t){const{parentSelector:e}=this.props,n=e(),i=t.parentSelector();i!==n&&(i.removeChild(this.node),n.appendChild(this.node))}componentWillUnmount(){this.layer&&this.layer.removeEventListener("touchstart",m);const{parentSelector:t}=this.props,e=t();this.node&&(e.removeChild(this.node),v.allowScrolling())}render(){const t=this.props,{className:e,parentSelector:n}=t,i=g(t,["className","parentSelector"]);return u.a.createPortal(s.a.createElement("div",Object.assign({className:d()("image-slides-overlay",e),ref:this.getLayer},i)),this.node)}}v.defaultProps={parentSelector:()=>document.body};n(9);function y(t){if(t){const e=new Image;return new Promise((n,i)=>{e.onload=n,e.onerror=i,e.src=t}).catch(t=>t)}return null}class x extends i.PureComponent{constructor(t){super(t),this.lastContainerOffsetX=0,this.initialStyle={},this.imageController={},this.containerEl=null,this.containerOffsetX=0,this.getContainer=t=>{t&&(o()(t),this.containerEl=t)},this.getControl=()=>{const{focused:t}=this.state;t||this.setState({focused:!0})},this.handleContainerMove=t=>{t.persist(),window.requestAnimationFrame(this.move(t)),t.preventDefault(),t.stopPropagation(),(t.changedTouches[0].pageX>window.innerWidth||t.changedTouches[0].pageX<0)&&this.handleTouchEnd(t)},this.move=t=>()=>{if(!this.containerEl)return;const{focused:e}=this.state;e&&(this.containerEl.translateX+=Math.floor(t.deltaX))},this.handleTouchEnd=t=>{if(t.preventDefault(),!this.containerEl)return;const{focused:e,index:n}=this.state;if(e){const{onChange:t,images:e}=this.props,i=(10+window.innerWidth)*this.getMedianIndex();if(-this.containerEl.translateX-i>40){const i=this.transition(160,"next");t&&n<e.length-1&&t(n+1),window.requestAnimationFrame(i)}else if(i+this.containerEl.translateX>40){const e=this.transition(160,"prev");t&&n>0&&t(n-1),window.requestAnimationFrame(e)}else{const t=this.transition(160,"noMove");window.requestAnimationFrame(t)}this.setState({focused:!1})}},this.updatePosition=()=>{this.containerEl&&(this.containerEl.translateX=-(10+window.innerWidth)*this.getMedianIndex())},this.next=()=>{const{index:t}=this.state,{images:e}=this.props;t<e.length-1?(y(e[t+2]),this.setState({index:t+1},this.updatePosition)):this.updatePosition()},this.prev=()=>{const{index:t}=this.state,{images:e}=this.props;t>0?(y(e[t-2]),this.setState({index:t-1},this.updatePosition)):this.updatePosition()},this.handleCloseViewer=t=>{const{index:e}=this.state,{onClose:n}=this.props;this.setState({isOpen:!1}),n&&n(t,e)};const{index:e,isOpen:n}=t;this.state={index:e,focused:!1,isOpen:n,prevIsOpen:!1,prevIndex:0}}componentDidMount(){const{images:t}=this.props,{index:e}=this.state;y(t[e]),y(t[e+1]),y(t[e-1])}static getDerivedStateFromProps(t,e){let n=null;return t.index!==e.prevIndex&&(n={},n.prevIndex=t.index,n.index=t.index),t.isOpen!==e.prevIsOpen&&(n||(n={}),n.prevIsOpen=t.isOpen,n.isOpen=t.isOpen),n}transition(t,e){if(!this.containerEl)return()=>null;const{index:n}=this.state,{images:i}=this.props,s=10+window.innerWidth;let r;const o=this.containerEl.translateX,a=0===n&&"prev"===e||n===i.length-1&&"next"===e||"noMove"===e?0:1,l=n=>{if(!this.containerEl)return;r||(r=n);const i=n-r;this.containerEl.translateX=Math.floor(o+i/t*(-s*(this.getMedianIndex()+("next"===e?a:-a))-o)),i<t?window.requestAnimationFrame(l):"next"===e?this.next():"prev"===e?this.prev():this.updatePosition()};return l}getMedianIndex(){const{index:t}=this.state,{images:e}=this.props,n=t+2>e.length?e.length:t+2,i=t-1<0?0:t-1;let s=Math.floor((n-i)/2);return t<1?s=t:t>e.length-2&&(s=e.length-t),s}render(){const{index:t,isOpen:e,focused:n}=this.state,{images:i,addon:r,tapClose:o,loadingIcon:l,showPageButton:c}=this.props,u=t+2>i.length?i.length:t+2,p=t-1<0?0:t-1;return e?s.a.createElement(v,null,s.a.createElement("div",{className:"image-slides-view-port"},r&&r(t,{close:this.handleCloseViewer,next:this.next,prev:this.prev}),t>0&&c?s.a.createElement("button",{className:"image-slides-page-button image-slides-prev",onClick:this.prev},s.a.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"30px",height:"30px",viewBox:"0 0 24 24"},s.a.createElement("path",{stroke:"#eee",fill:"#eee",d:"M15.41,16.59L10.83,12l4.58-4.59L14,6l-6,6l6,6L15.41,16.59z"}))):null,t<i.length-1&&c?s.a.createElement("button",{className:"image-slides-page-button image-slides-next",onClick:this.next},s.a.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"30px",height:"30px",viewBox:"0 0 24 24"},s.a.createElement("path",{stroke:"#eee",fill:"#eee",d:"M8.59,16.59L13.17,12L8.59,7.41L10,6l6,6l-6,6L8.59,16.59z"}))):null,s.a.createElement(a,{onSingleTap:o?this.handleCloseViewer:null,onTouchEnd:this.handleTouchEnd,onPressMove:this.handleContainerMove},s.a.createElement("div",{className:"image-slides-container",ref:this.getContainer},i.slice(p,u).map((t,e)=>s.a.createElement(h,{containerFocused:n,loadingIcon:l,onExceedLimit:this.getControl,url:t,key:t+(e+p),presented:e===this.getMedianIndex()})))))):null}}x.defaultProps={images:[],index:0,showPageButton:!1,tapClose:!0,isOpen:!1};e.default=x}])}));
//# sourceMappingURL=bundle.js.map