{"ast":null,"code":"var _jsxFileName = \"/home/firat/Documents/SIP/sip2021-01-sth/sip-React/course-react/src/components/ThumbnailList.jsx\";\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Thumbnail from './Thumbnail';\nimport SearchFields from './SearchFields';\nimport Comment from './Comment';\nimport { withRouter } from 'react-router-dom';\nimport { Col, Row } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { CommentService } from '../services/CommentService';\nimport TextField from '@material-ui/core/TextField';\nimport keycloak from '../keycloak';\nimport { PacsService } from '../services/PacsService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ThumbnailList extends Component {\n  constructor(props) {\n    super(props);\n    this.updateSearchComment = this.updateSearchComment.bind(this);\n    this.handleAddCommentText = this.handleAddCommentText.bind(this);\n    this.handleAddComment = this.handleAddComment.bind(this);\n    this.state = {\n      searchComment: \"\",\n      newComment: \"\"\n    };\n  } // Set the last searched Comment\n\n\n  updateSearchComment(newComment) {\n    this.setState({\n      searchComment: newComment\n    });\n  } // Add new Comment to all selected images\n\n\n  handleAddComment() {\n    CommentService.authToken(keycloak.token);\n    CommentService.add(this.state.newComment).then(res => {\n      this.props.selectedImages.map(image => {\n        CommentService.assignComment(image.id, res.data.id);\n      });\n    });\n  }\n\n  handleAddCommentText(event) {\n    this.setState({\n      newComment: event.target.value\n    });\n  }\n\n  render() {\n    const {\n      isLoading,\n      images,\n      searchImages,\n      selectedImages,\n      tags,\n      matchingComments,\n      updateMatchingComments\n    } = this.props;\n    return isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(SearchFields, {\n        searchFunction: searchImages,\n        searchComment: this.state.searchComment,\n        updateSearchComment: this.updateSearchComment,\n        tags: tags\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 12,\n          lg: 3,\n          id: \"bordered\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"matchingComments\",\n            children: matchingComments.map(comment => /*#__PURE__*/_jsxDEV(Comment, {\n              comment: comment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"add_comment\",\n            label: \"New Comment\",\n            onChange: this.handleAddCommentText,\n            style: {\n              width: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            style: {\n              margin: \"5px\"\n            },\n            onClick: this.handleAddComment,\n            children: \"Save Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this), this.props.selectedImages.length > 0 ? /*#__PURE__*/_jsxDEV(LinkContainer, {\n            to: \"/view\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              style: {\n                margin: \"5px\"\n              } //onClick={this.props.selectedImages.() => ImageService.findFullImageById()}\n              ,\n              children: \"Show Images\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 12,\n          lg: 9,\n          id: \"bordered\",\n          children: images.map(image => /*#__PURE__*/_jsxDEV(Thumbnail, {\n            updateMatchingComments: updateMatchingComments,\n            selectedImages: selectedImages,\n            image: image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(this.props.selectedImages, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(ThumbnailList);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/firat/Documents/SIP/sip2021-01-sth/sip-React/course-react/src/components/ThumbnailList.jsx"],"names":["React","Component","Button","Thumbnail","SearchFields","Comment","withRouter","Col","Row","LinkContainer","CommentService","TextField","keycloak","PacsService","ThumbnailList","constructor","props","updateSearchComment","bind","handleAddCommentText","handleAddComment","state","searchComment","newComment","setState","authToken","token","add","then","res","selectedImages","map","image","assignComment","id","data","event","target","value","render","isLoading","images","searchImages","tags","matchingComments","updateMatchingComments","comment","width","margin","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Button from '@material-ui/core/Button';\nimport Thumbnail from './Thumbnail'\nimport SearchFields from './SearchFields'\nimport Comment from './Comment';\nimport { withRouter } from 'react-router-dom'\nimport { Col, Row } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { CommentService } from '../services/CommentService'\nimport TextField from '@material-ui/core/TextField';\nimport keycloak from '../keycloak'\nimport {PacsService} from '../services/PacsService'\n\nclass ThumbnailList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.updateSearchComment = this.updateSearchComment.bind(this);\n        this.handleAddCommentText = this.handleAddCommentText.bind(this);\n        this.handleAddComment = this.handleAddComment.bind(this);\n\n        this.state = {\n            searchComment: \"\",\n            newComment: \"\",\n        };\n    }\n\n\n    // Set the last searched Comment\n    updateSearchComment(newComment) {\n        this.setState({ searchComment: newComment });\n    }\n\n    // Add new Comment to all selected images\n    handleAddComment() {\n        CommentService.authToken(keycloak.token)\n        CommentService.add(this.state.newComment).then((res) => {\n            this.props.selectedImages.map((image) => {\n                CommentService.assignComment(image.id, res.data.id)\n            })\n        })\n    }\n    handleAddCommentText(event) {\n        this.setState({ newComment: event.target.value })\n    }\n\n\n\n    render() {\n        const { isLoading, images, searchImages, selectedImages, tags, matchingComments, updateMatchingComments } = this.props;\n\n\n        return (\n            isLoading ? <p>Loading...</p> : (\n                <div className=\"mt-3\">\n                    <SearchFields searchFunction={searchImages} searchComment={this.state.searchComment}\n                        updateSearchComment={this.updateSearchComment} tags={tags} />\n\n                    <Row>\n                        <Col md={12} lg={3} id=\"bordered\">\n                            <div id=\"matchingComments\">\n                                {matchingComments.map(comment =>\n                                    <Comment comment={comment} />\n                                )}\n                            </div>\n\n                            <TextField\n                                id=\"add_comment\"\n                                label=\"New Comment\"\n                                onChange={this.handleAddCommentText}\n                                style={{ width: \"100%\" }}\n                            />\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                style={{ margin: \"5px\" }}\n                                onClick={this.handleAddComment}\n                            >\n                                Save Comment\n                            </Button>\n                            {(this.props.selectedImages.length > 0) ?\n                            <LinkContainer to=\"/view\">\n                                <Button\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    style={{ margin: \"5px\" }}\n                                    //onClick={this.props.selectedImages.() => ImageService.findFullImageById()}\n                                >\n                                    Show Images\n                                </Button>\n                            </LinkContainer>\n                            : null}\n\n                        </Col>\n                        <Col md={12} lg={9} id=\"bordered\">\n                            {images.map(image =>\n                                <Thumbnail updateMatchingComments={updateMatchingComments} selectedImages={selectedImages} image={image} />\n                            )}\n                        </Col>\n                    </Row>\n\n                    {/* <table className=\"table\">\n                        <thead>\n                            <tr><th>ID</th><th>Description</th><th>Thumbnail</th><th>PACS</th></tr>\n                        </thead>\n                        <tbody>\n                            {images.map(image =>\n                                <tr key={image.id}>\n                                    <td>{image.id}</td>\n                                    <td>{image.description}</td>\n                                    <td>{image.thumbnail}</td>\n                                    <td>{image.pacs_id}</td>\n                                </tr>\n                            )}\n                        </tbody>\n                    </table> */}\n                    <this.props.selectedImages/>\n                </div>\n            )\n        )\n    }\n}\nexport default withRouter(ThumbnailList)"]},"metadata":{},"sourceType":"module"}