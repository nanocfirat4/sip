{"ast":null,"code":"var _jsxFileName = \"/home/firat/Documents/SIP/sip2021-01-sth/sip-React/course-react/src/components/SearchFields.jsx\";\nimport React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { Col, Row } from 'react-bootstrap';\nimport Button from '@material-ui/core/Button';\nimport Slider from '@material-ui/core/Slider';\nimport { Typography } from '@material-ui/core';\nimport { TagService } from '../services/TagService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SearchFields extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSliderChange = (event, newValue) => {\n      var items = document.getElementsByClassName(\"thumbnail_img\");\n\n      for (var i = 0; i < items.length; i++) {\n        items[i].style.width = newValue + \"px\";\n        items[i].style.height = newValue + \"px\";\n      }\n    };\n\n    this.removeTagsOfList = this.removeTagsOfList.bind(this);\n    this.state = {\n      searchTags: [],\n      textFieldValue: '',\n      newSearchCommentValue: props.searchComment,\n      newSearchTags: props.searchTag\n    };\n  } // adjust thumbnail sizes\n\n\n  // Search when button is clicked\n  handleSearch() {\n    this.props.updateSearchComment(this.state.newSearchCommentValue);\n    this.props.searchFunction(this.state.newSearchCommentValue, this.state.searchTags);\n    this.removeTagsOfList;\n  } // Update State when modifying Comment\n\n\n  setNewComment(event) {\n    this.setState({\n      newSearchCommentValue: event.target.value\n    });\n  }\n\n  handleTagChange(values) {\n    values.map(value => this.props.tags.map(tag => tag.id === value.id ? this.setState({\n      searchTags: tag\n    }) : null));\n    console.log(this.state.searchTags);\n  }\n\n  removeTagsOfList() {\n    var array = this.state.searchTags;\n    array.map(tag => delete array[array.indexOf(tag.target.value)]);\n  } // Rendering\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: this.root,\n      noValidate: true,\n      autoComplete: \"off\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          minHeight: \"70px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n            multiple: true,\n            id: \"combo-box-demo\",\n            options: this.props.tags.map(tag => {\n              return {\n                name: tag.hashtagtxt,\n                id: tag.id\n              };\n            }),\n            getOptionLabel: option => option.name,\n            renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n              label: \"Tag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 54\n            }, this),\n            style: {\n              width: \"100%\"\n            },\n            onChange: (event, values) => this.handleTagChange(values)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"comment-search\",\n            label: \"Comments\",\n            type: \"search\",\n            defaultValue: this.props.searchComment,\n            onChange: this.setNewComment.bind(this),\n            style: {\n              width: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 2,\n          xs: 5,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              this.handleSearch();\n            },\n            variant: \"contained\",\n            color: \"primary\",\n            style: {\n              margin: \"5px\"\n            },\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 2,\n          xs: 7,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            style: {\n              textAlign: \"center\"\n            },\n            children: \"Thumbnail size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Slider, {\n            getAriaValueText: this.valuetext,\n            \"aria-labelledby\": \"discrete-slider\",\n            valueLabelDisplay: \"auto\",\n            step: 50,\n            marks: true,\n            min: 50,\n            max: 300,\n            defaultValue: 150,\n            id: \"sizeSlider\",\n            style: {\n              width: \"100%\"\n            },\n            onChange: this.handleSliderChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SearchFields;","map":{"version":3,"sources":["/home/firat/Documents/SIP/sip2021-01-sth/sip-React/course-react/src/components/SearchFields.jsx"],"names":["React","Component","TextField","Autocomplete","Col","Row","Button","Slider","Typography","TagService","SearchFields","constructor","props","handleSliderChange","event","newValue","items","document","getElementsByClassName","i","length","style","width","height","removeTagsOfList","bind","state","searchTags","textFieldValue","newSearchCommentValue","searchComment","newSearchTags","searchTag","handleSearch","updateSearchComment","searchFunction","setNewComment","setState","target","value","handleTagChange","values","map","tags","tag","id","console","log","array","indexOf","render","root","minHeight","name","hashtagtxt","option","params","margin","textAlign","valuetext"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { Col, Row } from 'react-bootstrap';\nimport Button from '@material-ui/core/Button';\nimport Slider from '@material-ui/core/Slider';\nimport { Typography } from '@material-ui/core';\nimport { TagService } from '../services/TagService'\n\n\nclass SearchFields extends Component {\n    constructor(props) {\n        super(props);\n\n        this.removeTagsOfList = this.removeTagsOfList.bind(this);\n\n        this.state = {\n            searchTags: [],\n            textFieldValue: '',\n            newSearchCommentValue: props.searchComment,\n            newSearchTags: props.searchTag,\n\n        };\n    }\n\n\n    // adjust thumbnail sizes\n    handleSliderChange = (event, newValue) => {\n        var items = document.getElementsByClassName(\"thumbnail_img\")\n\n        for (var i = 0; i < items.length; i++) {\n            items[i].style.width = (newValue + \"px\");\n            items[i].style.height = (newValue + \"px\");\n        }\n    };\n\n    // Search when button is clicked\n    handleSearch() {\n        this.props.updateSearchComment(this.state.newSearchCommentValue);\n        this.props.searchFunction(this.state.newSearchCommentValue, this.state.searchTags);\n        this.removeTagsOfList\n\n    }\n\n    // Update State when modifying Comment\n    setNewComment(event) {\n        this.setState({ newSearchCommentValue: event.target.value });\n    }\n\n     handleTagChange(values){\n        values.map(value => \n            this.props.tags.map(tag=>\n                (tag.id === value.id ? this.setState({searchTags:tag})\n                    :null  )));\n        console.log(this.state.searchTags)\n\n\n        }                \n        removeTagsOfList(){\n            var array = this.state.searchTags;\n            array.map(tag => delete array[array.indexOf(tag.target.value)])\n          }           \n\n\n\n    // Rendering\n    render() {\n        return (\n            <form className={this.root} noValidate autoComplete=\"off\">\n\n                {/* OLD: Search by PACS ID of images\n                <TextField\n                    id=\"PictureID-search\"\n                    label=\"Picture ID\"\n                    type=\"search\"\n                    className=\"searchElement\"\n                /> */}\n                <Row style={{ minHeight: \"70px\" }}>\n                    <Col md={4}>\n                        <Autocomplete\n                            multiple\n                            id=\"combo-box-demo\"\n                        \n                            options={\n                                this.props.tags.map(tag => {\n                                    return {\n                                        name: tag.hashtagtxt,\n                                        id: tag.id\n                                    }\n                                })\n                            }\n                            getOptionLabel={(option) => option.name}    \n                            renderInput={(params) => <TextField {...params} label=\"Tag\" />}\n                            style={{ width: \"100%\" }}\n                            onChange={(event,values) =>( this.handleTagChange(values))}\n\n                        />\n                    </Col>\n                    <Col md={4}>\n                        <TextField\n                            id=\"comment-search\"\n                            label=\"Comments\"\n                            type=\"search\"\n                            defaultValue={this.props.searchComment}\n                            onChange={this.setNewComment.bind(this)}\n                            style={{ width: \"100%\" }}\n                        />\n                    </Col>\n                    <Col md={2} xs={5}>\n                        <Button\n                            onClick={() => { this.handleSearch() }}\n                            variant=\"contained\"\n                            color=\"primary\"\n                            style={{ margin: \"5px\" }}\n                        >\n                            Search\n                        </Button>\n                    </Col>\n                    <Col md={2} xs={7}>\n                        <Typography style={{ textAlign: \"center\" }}>\n                            Thumbnail size\n                        </Typography>\n                        <Slider\n                            getAriaValueText={this.valuetext}\n                            aria-labelledby=\"discrete-slider\"\n                            valueLabelDisplay=\"auto\"\n                            step={50}\n                            marks\n                            min={50}\n                            max={300}\n                            defaultValue={150}\n                            id=\"sizeSlider\"\n                            style={{ width: \"100%\" }}\n\n                            onChange={this.handleSliderChange}\n                        />\n\n                    </Col>\n                </Row>\n            </form>\n        );\n\n    }\n}\nexport default SearchFields"]},"metadata":{},"sourceType":"module"}